<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Test Dashboard</title>
  <style>
    /* Same styles as before */
  </style>
</head>
<body>
  <h1>Online Test Dashboard</h1>
  <div class="test-selection" id="testSelection"></div>
  <div id="testArea" class="test-area">
    <div class="question-section">
      <h2 id="testTitle"></h2>
      <div class="question" id="questionText">Question text appears here.</div>
      <div id="options" class="options"></div>
      <div class="actions">
        <button onclick="prevQuestion()">Previous</button>
        <button onclick="nextQuestion()">Next</button>
        <button onclick="attemptQuestion()">Attempt</button>
        <button onclick="addForReview()">Add for Review</button>
      </div>
    </div>
    <div class="sidebar">
      <div class="timer" id="timer">Time Left: 60:00</div>
      <div class="progress">
        <div class="label"><span>Attempted</span><span id="attemptedCount">0</span></div>
        <div class="bar"><div class="attempted" id="attemptedBar" style="width: 0%"></div></div>
      </div>
      <div class="progress">
        <div class="label"><span>Review</span><span id="reviewCount">0</span></div>
        <div class="bar"><div class="review" id="reviewBar" style="width: 0%"></div></div>
      </div>
      <div class="progress">
        <div class="label"><span>Not Attempted</span><span id="notAttemptedCount">50</span></div>
        <div class="bar"><div class="not-attempted" id="notAttemptedBar" style="width: 100%"></div></div>
      </div>
    </div>
  </div>
  <script>
    const totalQuestions = 50;
    let attempted = 0, review = 0, currentIndex = 0;
    const testList = ["B.Ed. Test", "Class 9 Science", "Class 10 Math"];
    
    // Modified questions with options
    const questions = [
      {
        questionText: "What is the capital of India?",
        options: ["Delhi", "Mumbai", "Kolkata", "Chennai"],
        correctAnswer: "Delhi"
      },
      {
        questionText: "Which of the following is a prime number?",
        options: ["4", "6", "11", "15"],
        correctAnswer: "11"
      },
      // Add more questions with options here
    ];

    const testSelection = document.getElementById("testSelection");
    const testArea = document.getElementById("testArea");
    const testTitle = document.getElementById("testTitle");
    const questionText = document.getElementById("questionText");
    const optionsContainer = document.getElementById("options");

    testList.forEach(test => {
      const card = document.createElement("div");
      card.className = "test-card";
      card.innerHTML = `<h3>${test}</h3>`;
      card.onclick = () => {
        testTitle.innerText = test;
        testArea.style.display = "block";
        currentIndex = 0;
        updateQuestion();
      };
      testSelection.appendChild(card);
    });

    function updateQuestion() {
      const currentQuestion = questions[currentIndex];
      questionText.innerText = currentQuestion.questionText;
      
      // Display the options for the question
      optionsContainer.innerHTML = "";
      currentQuestion.options.forEach((option, index) => {
        const optionElement = document.createElement("div");
        optionElement.innerHTML = `<input type="radio" name="option" id="option${index}" value="${option}">
                                  <label for="option${index}">${option}</label>`;
        optionsContainer.appendChild(optionElement);
      });
    }

    function prevQuestion() {
      if (currentIndex > 0) {
        currentIndex--;
        updateQuestion();
      }
    }

    function nextQuestion() {
      if (currentIndex < totalQuestions - 1) {
        currentIndex++;
        updateQuestion();
      }
    }

    function attemptQuestion() {
      if (attempted + review < totalQuestions) {
        attempted++;
        updateProgress();
      }
    }

    function addForReview() {
      if (attempted + review < totalQuestions) {
        review++;
        updateProgress();
      }
    }

    function updateProgress() {
      const notAttempted = totalQuestions - attempted - review;
      document.getElementById("attemptedCount").innerText = attempted;
      document.getElementById("reviewCount").innerText = review;
      document.getElementById("notAttemptedCount").innerText = notAttempted;

      document.getElementById("attemptedBar").style.width = `${(attempted / totalQuestions) * 100}%`;
      document.getElementById("reviewBar").style.width = `${(review / totalQuestions) * 100}%`;
      document.getElementById("notAttemptedBar").style.width = `${(notAttempted / totalQuestions) * 100}%`;
    }

    // Timer
    let timeLeft = 60 * 60;
    const timerDisplay = document.getElementById("timer");
    function formatTime(secs) {
      const m = String(Math.floor(secs / 60)).padStart(2, '0');
      const s = String(secs % 60).padStart(2, '0');
      return `${m}:${s}`;
    }
    function updateTimer() {
      if (timeLeft > 0) {
        timeLeft--;
        timerDisplay.innerText = `Time Left: ${formatTime(timeLeft)}`;
      }
    }
    setInterval(updateTimer, 1000);
  </script>
</body>
</html>
